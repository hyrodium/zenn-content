---
title: "Juliaパッケージの標準的なディレクトリ構成"
emoji: "👻"
type: "tech"
topics:
  - "julia"
  - "パッケージ管理"
published: false
---

# はじめに
Julia言語はパッケージ管理しやすい言語で

Juliaでは標準的な方法が浸透しているので、Pythonでの`requrements.txt`のようなレガシーを見る機会も少ないです。
また、Poetry/Pipenv/Ryeのようなパッケージマネージャーの乱立も無いので標準的なディレクトリ構成を議論しやすいです。

本記事では、最小限のパッケージ構成を示した後に、...

# 最小限の構成
JuliaのREPLのパッケージモードで`generate`コマンドを実行すれば最小限の構成でパッケージが生成できます。
```
(@v1.9) pkg> generate MyPkgA
```

これらのファイル構成は以下のようになっています。

```
MyPkgA
├── Project.toml
└── src
    └── MyPkgA.jl
```

```toml: Project.toml
name = "MyPkgA"
uuid = "eb62ad0d-c07c-4140-a83b-b6ff560c525f"
authors = ["hyrodium <hyrodium@gmail.com>"]
version = "0.1.0"
```

```julia: src/MyPkgA.jl
module MyPkgA

greet() = print("Hello World!")

end # module MyPkgA
```

# もっと色々な構成

```
MyPkgB
├── .git
├── .github
│   ├── dependabot.yml
│   └── workflows
│       ├── CI.yml
│       ├── Docs.yml
│       ├── Invalidations.yml
│       ├── CompatHelper.yml
│       └── TagBot.yml
├── .gitignore
├── docs
│   ├── make.jl
│   ├── Project.toml
│   └── src
│       ├── assets
│       │   ├── custom.css
│       │   ├── favicon.ico
│       │   ├── logo-dark.svg
│       │   └── logo.svg
│       ├── img
│       │   ├── sine-curve_no-points.svg
│       │   └── sine-curve.svg
│       ├── index.md
│       ├── plotlyjs.md
│       └── plots.md
├── LICENSE
├── Manifest.toml
├── Project.toml
├── README.md
├── src
│   ├── MyPkgB.jl
│   └── _util.jl
└── test
    ├── Project.toml
    ├── runtests.jl
    └── test_util.jl
```


## Git
### `.git`

JuliaのパッケージはGitが使われることが求められます。
`generate`コマンドで作った`MyPkgA`ではGit管理していませんでしたが、[General](https://github.com/JuliaRegistries/General)に登録されているパッケージではGit管理が求められます。[^1]

[^1]: バージョンごとにgitのcommitがGeneralに登録されているためです。例えばBasicBSpline.jlでは https://github.com/JuliaRegistries/General/blob/master/B/BasicBSpline/Versions.toml のように登録されています。

### `.gitignore`

## ドキュメント (Documenter.jl)
### `docs/make.jl`

### `docs/Project.toml`

`compat`にDocumenter.jl

### `docs/Manifest.toml`

### `docs/src/assets/logo.svg`
ドキュメントのロゴ画像です。SVGだけでなく、PNGなども可能です。
k
![](https://raw.githubusercontent.com/hyrodium/BasicBSpline.jl/b0221e6662e6e16e706c8f784fb70a90da0fe6bd/docs/src/assets/logo.svg =200x)

### `docs/src/assets/logo-dark.svg`
ドキュメントのロゴ画像です。ダークモードで使われる画像を別途配置可能です。

![](https://raw.githubusercontent.com/hyrodium/BasicBSpline.jl/b0221e6662e6e16e706c8f784fb70a90da0fe6bd/docs/src/assets/logo-dark.svg =200x)

### `docs/src/assets/custom.css`
基本的に不要ですが、ドキュメントの見た目を変更したい場合に使用します。
私はドキュメントのロゴの大きさを変更するために以下のように記述することが多いです。([例](https://github.com/hyrodium/BasicBSpline.jl/blob/07ef789a01c826898782fae535a4638867c6742d/docs/src/assets/custom.css))

```css
#documenter .docs-sidebar .docs-logo > img,
html.theme--documenter-dark #documenter .docs-sidebar .docs-logo > img {
    max-height: 8rem;
}
```

### `docs/src/assets/favicon.ico`

### `docs/src/index.md`

## ドキュメント (DemoCards.jl)
[DemoCards.jl](https://github.com/JuliaDocs/DemoCards.jl)はデモを作りやすくするためのJuliaパッケージで、Documenter.jlのドキュメントに組み込むことができます。

`docs/src`以下に置かないことに注意

### `docs/<dir>/assets`

### `docs/<dir>/index.md`

### `docs/<dir>/config.json`

## GitHub Actions

### `.github/workforlows/`

## README.md
バッジ

* docs/dev
* docs/stable
* CI
* codecov
* Aqua.jl
* arxiv
* DOI
* Package downloads
* style

## テスト

### `test/runtests.jl`
### `test/*.jl`

## その他

### `LICENSE`
MITにすることが多いです。
ファイル名を`LICENSE.md`に変更し、contributorsへのリンクを追加する場合もあります。([例](https://github.com/JuliaLang/julia/blob/master/LICENSE.md))

### `.JuliaFormatter.toml`
JuliaFormatter.jlで使う設定を記述するファイルです。

# パッケージ作成支援パッケージ

* [PkgTemplates.jl](https://github.com/JuliaCI/PkgTemplates.jl)
* [PkgSkeleton.jl](https://github.com/tpapp/PkgSkeleton.jl)

があります。

# おわりに

本記事で列挙したもの以外にも色々なパッケージ構成があると思います。
たとえば、以下の項目には意図的に触れませんでした。

* 一つのリポジトリで複数のパッケージを管理する方法
* Documenter.jl以外でのドキュメント生成

「このファイルも便利だから用意した方が良いよ！」などあればコメントください！
