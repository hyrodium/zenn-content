---
title: "Rotations.jlã§å›è»¢ã—ã‚ˆã†ï¼"
emoji: "ğŸŒ€"
type: "tech"
topics:
  - "julia"
  - "math"
published: true
published_at: "2021-12-01 22:09"
---


# å›è»¢ã®å°å…¥
ã€Œå›è»¢ã€ã¨ã„ã†ã®ã¯ç›´è¦³çš„ãªã‚¤ãƒ¡ãƒ¼ã‚¸é€šã‚Šã€ç‰©ä½“ã®å½¢çŠ¶ã‚’å¤‰åŒ–ã•ã›ãšã«å‘ãã‚’å¤‰ãˆã‚‹å¤‰æ›ã®ã“ã¨ã§ã™ã€‚

![](https://media3.giphy.com/media/xT0BKlHSodQZBC9YOY/giphy.gif?cid=790b7611fc59fc029659bca3718930b944632f82947f61a4&rid=giphy.gif&ct=g)

ç·šå½¢ä»£æ•°ã§ã¯ã€å›è»¢ã‚’ç›´äº¤è¡Œåˆ—ã§è¡¨ã™ã“ã¨ãŒã§ãã¾ã™ã€‚
ãŸã ã—æ­£ç¢ºã«è¨€ãˆã°ã€é¡åƒã¯å›è»¢ã«å«ã‚ãŸããªã„ã®ã§è¡Œåˆ—å¼ãŒ$1$ã®ã‚‚ã®ã«é™å®šã—ã¾ã™ã€‚
ã¤ã¾ã‚Š

* $R^{-1} = R^{\top}$
* $\det(R) = 1$

ã‚’æº€ãŸã™è¡Œåˆ—$R$ã‚’å›è»¢è¡Œåˆ—ã¨å‘¼ã³ã¾ã™ã€‚
ã“ã®ã‚ˆã†ãªè¡Œåˆ—å…¨ä½“ã¯ç¾¤ã‚’ãªã™ã®ã§ã€è¨˜å·$SO(n)$ãŒä½¿ã‚ã‚Œã¾ã™ã€‚ç‰¹æ®Šç›´äº¤ç¾¤ã¨å‘¼ã°ã‚Œã¾ã™ã€‚
ã“ã“ã§ã®$n$ã¯æ­£æ–¹è¡Œåˆ—ã®ä¸€è¾ºã®ã‚µã‚¤ã‚ºã§ã€å›è»¢ãŒè¡Œã‚ã‚Œã‚‹ç©ºé–“ã®æ¬¡å…ƒã«ç›¸å½“ã—ã¾ã™ã€‚

é¡åƒã‚‚å«ã‚€ã‚‚ã®ã€ã¤ã¾ã‚Š$n$æ¬¡ç›´äº¤è¡Œåˆ—å…¨ä½“ã¯è¨˜å·$O(n)$ã§è¡¨ã•ã‚Œã¾ã™ãŒã€ä»¥é™ã®æœ¬è¨˜äº‹ã§ã¯ç™»å ´ã—ã¾ã›ã‚“ã€‚

ç›´äº¤è¡Œåˆ—ã‚’è¤‡ç´ æ•°ã«æ‹¡å¼µã—ãŸã‚‚ã®ã¨ã—ã¦ã€ãƒ¦ãƒ‹ã‚¿ãƒªè¡Œåˆ—ãŒã‚ã‚Šã¾ã™ã€‚è»¢ç½®${R}^{\top}$ã®ä»£ã‚ã‚Šã«éšä¼´${R}^{*}$(è»¢ç½®+è¤‡ç´ å…±å½¹)ã‚’è€ƒãˆã¾ã™ã€‚å›è»¢è¡Œåˆ—ã¨åŒæ§˜ã«è¡Œåˆ—å¼ãŒ$1$ã®ã‚‚ã®ã‚’è€ƒãˆã‚‹ã¨éƒ½åˆãŒè‰¯ã„ã®ã§

* $R^{-1} = R^{*}$
* $\det(R) = 1$

ã‚’æº€ãŸã™è¡Œåˆ—å…¨ä½“ã‚’è€ƒãˆã¦ã€ç‰¹æ®Šãƒ¦ãƒ‹ã‚¿ãƒªç¾¤$SU(n)$ã¨å‘¼ã³ã¾ã™ã€‚

è¡Œåˆ—å¼ã®åˆ¶é™ãŒãªã„ã‚‚ã®ã€ã¤ã¾ã‚Š$n$æ¬¡ãƒ¦ãƒ‹ã‚¿ãƒªè¡Œåˆ—è¡Œåˆ—å…¨ä½“ã¯è¨˜å·$O(n)$ã§è¡¨ã•ã‚Œã¾ã™ãŒã€ã“ã¡ã‚‰ã‚‚ä»¥é™ã®æœ¬è¨˜äº‹ã§ã¯ç™»å ´ã—ã¾ã›ã‚“ã€‚

# ç§ã®éå»ã®é–¢é€£ç™ºè¡¨
å›è»¢ã«ã¤ã„ã¦ã¯ä½•åº¦ã‹LTãªã©ã§ç™ºè¡¨ã—ã¦ã„ã¾ã™ã€‚
æœ¬è¨˜äº‹ã‚’èª­ã‚€éš›ã«ã‚‚ä»¥ä¸‹ãŒéƒ¨åˆ†çš„ã«å½¹ç«‹ã¤ã¨æ€ã„ã¾ã™ã€‚

* ç¬¬1å›æ—¥æ›œæ•°å­¦ä¼š
    * æ—¥ç¨‹: 2015/06/20
    * ã€Œé€†æ•°ã®ä½œå›³ã‹ã‚‰Cayleyå¤‰æ›ã¾ã§ã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§LTã—ã¾ã—ãŸã€‚
    * $SO(3)$ã¨$SU(2)$ãŒæº–åŒå‹ã§ã‚ã‚‹ã“ã¨ã‚’ã€ä¸€æ¬¡åˆ†æ•°å¤‰æ›ã‚’é€šã˜ã¦ç¢ºèªã—ã¾ã—ãŸã€‚
    * [ç™ºè¡¨è³‡æ–™](https://www.slideshare.net/yutohorikawa/cayley-57826500)
* ç¬¬4å›æ—¥æ›œæ•°å­¦ä¼š
    * æ—¥ç¨‹: 2016/01/30
    * ã€ŒRiemannçƒé¢ã«å†…æ¥ã™ã‚‹ç›´æ–¹ä½“ã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§LTã—ã¾ã—ãŸã€‚
    * Riemannçƒé¢ã§ã®å¯¾è¹ ç‚¹ãŒ$R\in SU(2)$ã®ä¸å‹•ç‚¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚
    * [ç™ºè¡¨è³‡æ–™](https://www.slideshare.net/yutohorikawa/riemann-57827572), [ç™ºè¡¨ã®æ§˜å­](https://www.nicovideo.jp/watch/sm28208708)
* JuliaTokai #10
    * æ—¥ç¨‹: 2021/05/15
    * ã€ŒRotations.jlã§å­¦ã¶3æ¬¡å…ƒã®å›è»¢ã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ç™ºè¡¨ã—ã¾ã—ãŸã€‚
    * æœ¬è¨˜äº‹ã®å†…å®¹ã«æœ€ã‚‚è¿‘ã„ã§ã™ã€‚
    * [ç™ºè¡¨è³‡æ–™](https://hackmd.io/@hyrodium/SkLSnyku_#/), [ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸](https://juliatokai.connpass.com/event/210961/)

# æ¬¡å…ƒã«ã¤ã„ã¦
## å›è»¢ãŒä½œç”¨ã™ã‚‹ç©ºé–“ã®æ¬¡å…ƒ
* $n=1$ã¯ç›´ç·šãªã®ã§å›è»¢è¡Œåˆ—ã¯å˜ä½è¡Œåˆ—ã—ã‹ãªã„ã®ã§è‡ªæ˜ã§ã™ã€‚
* $n=2$ã¯åŸç‚¹ä¸­å¿ƒã®è§’åº¦$\theta$å›è»¢ã§ã™ã¹ã¦ã®å›è»¢è¡Œåˆ—ã‚’è¡¨ã›ã¾ã™ã€‚
* $n=3$ã‚ˆã‚Šä¸Šã§ã¯å›è»¢ã¯éå¯æ›ã§ã€ç´›ã‚‰ã‚ã—ããªã£ã¦ãã¾ã™ã€‚
* $n\ge 4$ã¯å¿œç”¨ãŒå°‘ãªã„ã§ã™ã€‚ç§é”ã®ä½ã‚“ã§ã„ã‚‹ç©ºé–“ã¯3æ¬¡å…ƒã ã‹ã‚‰ã§ã™ã€‚

ãã†ã„ã†è¨³ã§ã€å¿œç”¨ä¸Šç‰¹ã«é‡è¦ã§ç´›ã‚‰ã‚ã—ã„ã®ãŒ$n=3$ã§ã™ã€‚

2æ¬¡å…ƒã¨3æ¬¡å…ƒã®å›è»¢^[å°†æ¥çš„ã«ã¯4æ¬¡å…ƒä»¥ä¸Šã«ã‚‚å¯¾å¿œã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ãŒã€æœªå®Ÿè£…ã§ã™ã€‚]ã‚’æ‰±ã†ãŸã‚ã®è‰²ã€…ãªé–¢æ•°ã‚’ç”¨æ„ã—ã¦ã„ã‚‹Juliaãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€ãã‚ŒãŒRotations.jlã§ã™ï¼

## $SO(n)$ã®æ¬¡å…ƒ
$SO(n)$ã¯ç¾¤ã§ã‚ã‚‹ã¨æ›¸ãã¾ã—ãŸãŒã€åŒæ™‚ã«å¤šæ§˜ä½“ã§ã€ã¤ã¾ã‚ŠLieç¾¤ã§ã™ã€‚
ç‰¹æ®Šç›´äº¤ç¾¤ã®æ¬¡å…ƒã¯ä¸€èˆ¬ã«$\dim(SO(n)) = n(n-1)/2$ãªã®ã§$\dim(SO(3)) = 3$ã§ã™ã­ã€‚

ã¤ã¾ã‚Šã€å±€æ‰€çš„ã«ã¯$3$ã¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§3æ¬¡å›è»¢è¡Œåˆ—ã‚’è¡¨ã™ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ãŸã¨ãˆã°ã€è»¸å›ã‚Šå›è»¢ã®åˆæˆã§è¡¨ã™Eulerè§’ã¯3å›ã®å›è»¢ãªã®ã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿3ã¤ã€å±€æ‰€çš„ã«éä¸è¶³ãªã„ã¨ã„ã†è¨³ã§ã™ã€‚
ã“ã‚Œã¯è¡Œåˆ—ã®è¦ç´ æ•°$9=3\times 3$ã«æ¯”ã¹ã‚Œã°ã‹ãªã‚Šå°‘ãªã„ã§ã™ã­ã€‚

2æ¬¡å…ƒã§ã‚‚åŒæ§˜ã§ã€$\dim(SO(2)) = 1$ãªã®ã§ã“ã¡ã‚‰ã‚‚è¡Œåˆ—ã®è¦ç´ æ•°$4=2\times2$ã«æ¯”ã¹ã¦å°‘ãªã„ã§ã™ã­ã€‚

# æ•°å€¤çš„ã«å›è»¢ã‚’æ‰±ã†ã¨ãã®æ³¨æ„ç‚¹
ç°¡å˜ã®ãŸã‚ã«ã€2æ¬¡å…ƒã§ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚
é©å½“ã«å›è»¢è¡Œåˆ—ã‚’ä½œã£ã¦è¡Œåˆ—å¼ã‚’è¨ˆç®—ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
```julia
julia> using LinearAlgebra

julia> a = 0.1;

julia> R = [cos(a) -sin(a);sin(a) cos(a)]
2Ã—2 Matrix{Float64}:
 0.995004   -0.0998334
 0.0998334   0.995004

julia> det(R)
1.0000000000000002
```
è¡Œåˆ—å¼ã¯1ã®ã¯ãšãªã®ã«â€¦å³å¯†ã«1ã«ãªã‚‰ãªã„ã§ã™ã­ã€‚
ã“ã‚Œã¯ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãŒæµ®å‹•å°æ•°ç‚¹æ•°ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã«èµ·ã“ã£ã¦ã„ã¾ã™ã€‚

èª¤å·®ã¯ç´¯ç©ã—ã¦ã„ãã®ã§ã€ã¹ãä¹—ã‚’ç¹°ã‚Šè¿”ã™ã¨ã©ã‚“ã©ã‚“ãšã‚Œã¦ã„ãã¾ã™ã€‚
```julia
julia> det(R)
1.0000000000000002

julia> det(R^100)
1.0000000000000133

julia> det(R^10000)
1.000000000001315

julia> det(R^1000000)
1.0000000001314495

julia> det(R^100000000)
1.000000013144949

julia> det(R^10000000000)
1.000001314495683

julia> det(R^1000000000000)
1.0001314581217502

julia> det(R^100000000000000)
1.013231722819454
```

ã“ã®ã‚ˆã†ãªèª¤å·®ã®å•é¡Œã‚’é¿ã‘ã‚‹ãŸã‚ã«ã¯ã€$SO(n)$ã®æ€§è³ªã‚’ã†ã¾ãä½¿ã„ã€ã‚ˆã‚Šå°‘ãªã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§å›è»¢è¡Œåˆ—ã‚’è¡¨ç¾ã™ã‚‹ã¨è‰¯ã„ã§ã™ã€‚

ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿3ã¤ã§å›è»¢ã‚’è¡¨ã™å ´åˆã¯ã€9æ¬¡å…ƒç©ºé–“$\mathbb{R}^{n^2}$ã«åŸ‹ã‚è¾¼ã‚“ã§å¾—ã‚‰ã‚Œã‚‹(å†—é•·ãª)åº§æ¨™ã®ä»£ã‚ã‚Šã«ã€$SO(n)$ã«ç›´æ¥åº§æ¨™ã‚’å…¥ã‚Œã‚‹ã“ã¨ã«ç›¸å½“ã—ã¾ã™ã€‚
æµ®å‹•å°æ•°ç‚¹æ•°ã‚’ä½¿ã†ã®ã§ã€ä¾ç„¶ã¨ã—ã¦$SO(n)$å†…ã§ã®èª¤å·®ã¯ç™ºç”Ÿã—ã¾ã™ãŒã€$SO(n)$ã‹ã‚‰ã¯ã¿å‡ºã™ã“ã¨ã¯ç„¡ããªã‚Šã¾ã™ã€‚

ã¾ãŸã€ã“ã®æ–¹é‡ã¯å®Ÿè¡Œé€Ÿåº¦ãƒ»ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®è¦³ç‚¹ã‹ã‚‰ã‚‚åŠ¹æœçš„ã§ã™ã€‚
ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå°‘ãªããªã‚‹ã®ã§è¨ˆç®—é‡ãŒæ¸›ã‚Šã€åŒæ™‚ã«å¿…è¦ãªãƒ¡ãƒ¢ãƒªã‚‚å‰Šæ¸›ã§ãã¾ã™ã€‚

ã§ã¯ã€ã©ã®ã‚ˆã†ã«ã—ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ¸›ã‚‰ã™ã®ãŒé©åˆ‡ã§ã—ã‚‡ã†ã‹ï¼Ÿ

* $SO(2)$ã§ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å›è»¢è§’ã‚’å–ã‚Œã°è‰¯ã„ã®ã§ã€å˜ç´”ã§ã™ã­ã€‚
* $SO(3)$ã§ã¯å°‘ã—è¾¼ã¿å…¥ã£ã¦ã„ã¾ã™ã€‚è‰²ã€…ãªä¾¿åˆ©ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒã‚ã‚Šã€çŠ¶æ³ã«åˆã‚ã›ã¦ä½¿ã„åˆ†ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ¬¡ç¯€ã§ç°¡å˜ã«ç´¹ä»‹ã—ã¾ã™ã€‚

# å¿™ã—ã„äººã®ãŸã‚ã®3æ¬¡å…ƒå›è»¢ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å…¥é–€
è©³ã—ã„è©±ã¯æœ¬è¨˜äº‹æœ«å°¾ã®å‚è€ƒæ–‡çŒ®ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
æ¦‚è¦ã ã‘è¿°ã¹ã¾ã™ã€‚

* å›è»¢è¡Œåˆ—$SO(3)$
  * $3\times3$å®Ÿè¡Œåˆ—ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿9ã¤ã€‚
* ãƒ¦ãƒ‹ã‚¿ãƒªè¡Œåˆ—$SU(2)$
  * $2\times2$è¤‡ç´ è¡Œåˆ—ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿4ã¤ã€‚
  * ä¸€æ¬¡åˆ†æ•°å¤‰æ›(MÃ¶biuså¤‰æ›)ã§$SO(3)$ã¨2:1ã§å¯¾å¿œã€‚
* å˜ä½å››å…ƒæ•°
  * å˜ä½é•·ã•ã®å››å…ƒæ•°$q=w+ix+jy+kz$ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿4ã¤ã€‚
  * $SU(2)$ã¨ä»£æ•°çš„ã«åŒå‹ã€‚
  * 3æ¬¡å…ƒçƒé¢$S^3$ã¨å¹¾ä½•çš„ã«åŒå‹ã€‚
  * ä¸€æ¬¡åˆ†æ•°å¤‰æ›ã¨$SU(2)$ã‚’çµŒç”±ã›ãšã«ã€ç›´æ¥$SO(3)$ã¨å¯¾å¿œä»˜ã‘ã‚‹èª¬æ˜ã‚‚ã‚ã‚‹ã€‚
* MRP (Modified Rodrigues Parameters)
  * $S^3$ã®å±€æ‰€åº§æ¨™ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿3ã¤ã€‚
  * $S^3$ã‹ã‚‰å—æ¥µ($w=-1$)ã‚’é™¤ã„ã¦$\mathbb{R}^3$ã¸ç«‹ä½“å°„å½±ã§å¯¾å¿œã•ã›ã‚‹ã€‚
* Rodrigues Parameters
  * $S^3$ã®å±€æ‰€åº§æ¨™ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿3ã¤ã€‚
  * $S^3$ã‹ã‚‰èµ¤é“($w=0$)ã‚’é™¤ã„ã¦$\mathbb{R}^3$ã¸çƒé¢åŸç‚¹ã‹ã‚‰ã®å°„å½±ã§å¯¾å¿œã•ã›ã‚‹ã€‚
* è»¸å›ã‚Šå›è»¢
  * å˜ä½é•·ã•å›è»¢è»¸ã¨å›è»¢è§’ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿4ã¤ã€‚
  * ä»»æ„ã®3æ¬¡å›è»¢è¡Œåˆ—ã¯é©å½“ãªå›è»¢è»¸å›ã‚Šã®å›è»¢ã«ãªã‚‹ã®ã§å¯èƒ½ã€‚
* è»¸å›ã‚Šå›è»¢2
  * å›è»¢è»¸Ã—å›è»¢è§’ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿3ã¤ã€‚
  * å›è»¢è»¸ã‚’è¡¨ã™å˜ä½é•·ã•ãƒ™ã‚¯ãƒˆãƒ«ã«å›è»¢è§’ã‚’æ›ã‘ã‚Œã°ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ¸›ã‚‰ã›ã‚‹ï¼
  * Lieä»£æ•°$\mathfrak{so}(3)$ã¨ç›¸æ€§ãŒè‰¯ã„ã€‚
* Eulerè§’
  * åº§æ¨™è»¸ã¾ã‚ã‚Šã®3å›ã®å›è»¢ã§å›è»¢è¡Œåˆ—ã‚’è¡¨ã™ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿3ã¤ã€‚
  * ç›´æ„Ÿçš„ã ãŒã€ã‚¸ãƒ³ãƒãƒ«ãƒ­ãƒƒã‚¯ãƒ»éå¯æ›æ€§ç­‰ã®å½±éŸ¿ãŒã‚ã‚Šä½¿ã„ã‚„ã™ãã¯ãªã„ã€‚

# Rotations.jlã®æ–¹æ³•
ã•ã¦ã€ã“ã“ã‹ã‚‰ãŒæœ¬é¡Œã§ã™ã€‚
ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã§ã¯ã€`Rotations.jl`ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¦`using Rotations`ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚

## å›è»¢ã¯å®Ÿè¡Œåˆ—ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹
```julia
julia> Rotation <: AbstractMatrix
true
```
ã“ã‚Œã¾ã§ã®èª¬æ˜ã‹ã‚‰ã™ã‚Œã°ã€3æ¬¡å…ƒå›è»¢ã‚’$3Ã—3$è¡Œåˆ—ã§è¡¨ã™ã“ã¨ã¯è‡ªç„¶ã§ã€ä¸Šã®`true`ã¯å½“ã‚Šå‰ã®ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚ã—ã‹ã—â€¦

* ã€Œå˜ä½å››å…ƒæ•°$(\simeq SU(2))$ã“ãå›è»¢ã€ã¨è€ƒãˆã‚‹äººã‚‚ã„ã¾ã™ã€‚
  * `AbstractQuaternion`ãªã‚‹æŠ½è±¡å‹ã¯å­˜åœ¨ã—ãªã„ã®ã§ã€ã“ã®å ´åˆã¯`Rotation <: Number`ã«ãªã‚Šã¾ã™ã€‚
  * å˜ä½å››å…ƒæ•°ã®æ–¹ãŒéƒ½åˆãŒè‰¯ã„ã®ã¯ã€Œå˜é€£çµã«ãªã£ã¦ã„ã‚‹ã‹ã‚‰ã€ç­‰ã„ãã¤ã‹ç†ç”±ãŒã‚ã‚Šã¾ã™ã€‚
* ã€Œå›è»¢ã¨ã„ã†æ“ä½œã¯å¹¾ä½•çš„ãªã‚‚ã®ã§ã€è¡Œåˆ—ã«å¤‰æ›å¯èƒ½ã§ã‚ã£ã¦ã‚‚è¡Œåˆ—ã¨ã—ã¦æ‰±ã†ã¹ãã§ãªã„ã€ã¨ã„ã†äººã‚‚ã„ã¾ã™ã€‚
  * ã“ã®å ´åˆã¯`Rotation <: Any`ã®ã¿ã®éšå±¤é–¢ä¿‚ã§ã™ã€‚
  * [scipyã®å›è»¢](https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.transform.Rotation.html)ã¯ã“ã‚Œã«è¿‘ã„ã§ã™ã­ã€‚

Rotations.jlã§å›è»¢ã‚’è¡Œåˆ—ã¨ã—ã¦æ‰±ã†ã®ã¯ã€è¡Œåˆ—ã¨ã—ã¦ã®æ¼”ç®—(method)ã‚’ãã®ã¾ã¾ä½¿ãˆã‚‹ã¨ä¾¿åˆ©ã ã‹ã‚‰ã§ã™ã€‚

## è‰²ã€…ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«åˆã‚ã›ãŸå…·è±¡å‹ãŒå­˜åœ¨
Rotations.jlã§ã®å‹ã®éšå±¤é–¢ä¿‚ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
```
julia> using StaticArrays, Rotations

julia> Rotation <: StaticMatrix <: AbstractMatrix
true

julia> Rotation{2,Float64} <: StaticMatrix{2,2,Float64} <: AbstractMatrix{Float64}
true

julia> Rotation{3,Float64} <: StaticMatrix{3,3,Float64} <: AbstractMatrix{Float64}
true
```
Rotation{3}ã¯3æ¬¡å…ƒã®å›è»¢ã‚’è¡¨ã™ãŸã‚ã®æŠ½è±¡å‹ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå…·è±¡å‹ã‚’subtypeã‚’æŒã¡ã¾ã™ã€‚
ã¡ã‚‡ã†ã©å‰è¿°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãã‚Œãã‚Œã«å¯¾å¿œã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚^[ä¸€è¦§ã¯`subtypes(Rotation{3})`ã§å–å¾—ã§ãã¾ã™ã€‚]

* å›è»¢è¡Œåˆ—$SO(3)$ `RotMatrix{3}`
* ãƒ¦ãƒ‹ã‚¿ãƒªè¡Œåˆ—$SU(2)$ (å˜ä½å››å…ƒæ•°ã¨åŒä¸€ãªã®ã§å­˜åœ¨ã›ãš)
* å˜ä½å››å…ƒæ•° `QuatRotation`
* MRP (Modified Rodrigues Parameters) `MRP`
* Rodrigues Parameters `RodriguesParam`
* è»¸å›ã‚Šå›è»¢ `AngleAxis`
* è»¸å›ã‚Šå›è»¢2 `RotationVec`
* Eulerè§’ `RotXYZ`, `RotXYX` etc.

Rotation{2}ã¯å˜ç´”ã§ã€ä»¥ä¸‹ã®2ç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚

* `RotMatrix{2}`: å†…éƒ¨çš„ã«$2\times 2$ã®`SMatrix`ã‚’ä¿æŒã™ã‚‹ã‚‚ã®
* `Angle2d`: å†…éƒ¨çš„ã«å›è»¢è§’ã®ã¿ã‚’ä¿æŒã™ã‚‹ã‚‚ã®

ã“ã‚Œã‚‰ã®å…·è±¡å‹ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¦å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```julia
julia> r = RotX(1.2)  # xè»¸å›ã‚Šã§1.2(rad)å›è»¢
3Ã—3 RotX{Float64} with indices SOneTo(3)Ã—SOneTo(3)(1.2):
 1.0  0.0        0.0
 0.0  0.362358  -0.932039
 0.0  0.932039   0.362358

julia> AngleAxis(r)  # è»¸å›ã‚Šã®å›è»¢ã«å¤‰æ›
3Ã—3 AngleAxis{Float64} with indices SOneTo(3)Ã—SOneTo(3)(1.2, 1.0, 0.0, 0.0):
 1.0  0.0        0.0
 0.0  0.362358  -0.932039
 0.0  0.932039   0.362358

julia> QuatRotation(r)  # å››å…ƒæ•°å›è»¢ã«å¤‰æ›
3Ã—3 QuatRotation{Float64} with indices SOneTo(3)Ã—SOneTo(3)(Quaternion{Float64}(0.825336, 0.564642, 0.0, 0.0, true)):
 1.0  0.0        0.0
 0.0  0.362358  -0.932039
 0.0  0.932039   0.362358

julia> Rotations.params(QuatRotation(r))
4-element SVector{4, Float64} with indices SOneTo(4):
 0.8253356149096782
 0.5646424733950354
 0.0
 0.0
```

# å‰›ä½“å›è»¢ã®ä¾‹
~~Rotations.jlã®å¿œç”¨ã¨ã—ã¦ã€å‰›ä½“å›è»¢ã‚’å®Ÿè£…ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚~~
[ãƒ†ãƒ‹ã‚¹ãƒ©ã‚±ãƒƒãƒˆã®å®šç†](https://ja.wikipedia.org/wiki/%E3%83%86%E3%83%8B%E3%82%B9%E3%83%A9%E3%82%B1%E3%83%83%E3%83%88%E3%81%AE%E5%AE%9A%E7%90%86)ã‚’æ•°å€¤è¨ˆç®—ã§ç¢ºã‹ã‚ãŸã‹ã£ãŸã®ã§ã™ãŒã€[å®Ÿè£…ãŒé–“ã«åˆã„ã¾ã›ã‚“ã§ã—ãŸ](https://twitter.com/Hyrodium/status/1465716199698755595)ï¼
(ã‚ã¨ã§è¿½è¨˜ã—ã¾ã™)

# ä»Šå¾Œã®Rotations.jl
Rotations.jlã¯å°‘ã—æ­´å²ã®é•·ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã€[Julia v0.4ã®ã“ã‚ã‹ã‚‰é–‹ç™ºãŒå§‹ã¾ã£ã¦ã„ãŸ](https://github.com/JuliaGeometry/Rotations.jl/blob/v0.0.1/REQUIRE)ã‚ˆã†ã§ã™ã€‚ç§ãŒRotations.jlã®é–‹ç™ºã«åŠ ã‚ã£ãŸã®ã¯ä»Šå¹´ã«å…¥ã£ã¦ã‹ã‚‰ã§ã€å¤§ããªã¨ã“ã‚ã ã¨ä»¥ä¸‹ã®PRã‚’è¡Œã„ã¾ã—ãŸã€‚

* `rand`é–¢æ•°ã®ãƒã‚°ã®ä¿®æ­£([#151](https://github.com/JuliaGeometry/Rotations.jl/pull/151))
  * ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ãƒ©ãƒ³ãƒ€ãƒ ãªå›è»¢ã‚’æ­£ã—ãç”Ÿæˆã§ãã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚
* Documenter.jlã‚’ä½¿ã£ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ([#169](https://github.com/JuliaGeometry/Rotations.jl/pull/169))
  * ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯[ã“ã¡ã‚‰](https://juliageometry.github.io/Rotations.jl)ã§ã™ã€‚
  * ãƒ­ã‚´ã‚‚ç§ãŒä½œæˆã—ã¾ã—ãŸã€‚([#172](https://github.com/JuliaGeometry/Rotations.jl/pull/172))
  * ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒåŸ‹ã¾ã£ã¦ã„ãªã„éƒ¨åˆ†ãŒæ®‹ã£ã¦ã„ã¾ã™ã€‚contributionãƒãƒ£ãƒ³ã‚¹ã§ã™ï¼
* `Quaternions.jl`ã¨ã®äº’æ›æ€§ã®å‘ä¸Š([#175](https://github.com/JuliaGeometry/Rotations.jl/pull/175))
  * å››å…ƒæ•°ã‚’æ‰±ã†ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸Quaternions.jlã¨ã®å¤‰æ›ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

ã¾ã ã¾ã é–‹ç™ºã¯ç¶šã„ã¦ã„ã¦ã€å°†æ¥çš„ã«ã¯ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹äºˆå®šã§ã™ã€‚

* `RotationGenerator`ã®è¿½åŠ 
  * å›è»¢ã®ç”Ÿæˆå­ã‚’æ‰±ã†ãŸã‚ã®æŠ½è±¡å‹(åå¯¾ç§°è¡Œåˆ—)
  * `v1.2.0`ã§è¿½åŠ äºˆå®šã§ã™ã€‚([#203](https://github.com/JuliaGeometry/Rotations.jl/pull/203))
  * å›è»¢è¡Œåˆ—ã®`log`ã‚’å–ã£ã¦`RotationGenerator`ã‚’è¿”ã™ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
  * `exp(::RotationGenerator)`ã§å›è»¢è¡Œåˆ—ãŒå¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
* ChainRulesCore.jlã¨ã®é€£æº
  * `v1.3.0`ã§è¿½åŠ äºˆå®šã§ã™ã€‚
  * Zygote.jlãªã©ã®è‡ªå‹•å¾®åˆ†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’é©ç”¨ã™ã‚‹ãŸã‚ã«ä¿®æ­£ã™ã‚‹äºˆå®šã§ã™ã€‚

# å‚è€ƒæ–‡çŒ®

* [ç‰©ç†ã®ãŸã‚ã®ãƒªãƒ¼ç¾¤ã¨ãƒªãƒ¼ä»£æ•°](https://www.saiensu.co.jp/search/?isbn=978-4-7819-9954-8&y=2018)
  * $SO(3)$ã¨$SU(2)$ã®é–¢ä¿‚ã«ã¤ã„ã¦ã®è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ã€‚
* [3æ¬¡å…ƒå›è»¢: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨ˆç®—ã¨ãƒªãƒ¼ä»£æ•°ã«ã‚ˆã‚‹æœ€é©åŒ–](https://www.kyoritsu-pub.co.jp/bookdetail/9784320113824)
  * å›è»¢ã®æ¨å®šã«ã¤ã„ã¦è©³ã—ã„ã§ã™ã€‚
* [Fundamentals of Spacecraft Attitude Determination and Control](https://www.springerprofessional.de/fundamentals-of-spacecraft-attitude-determination-and-control/1915350)
  * Rotations.jlã§ä¸»ã«å‚ç…§ã•ã‚Œã¦ã„ã‚‹æ›¸ç±ã§ã™ã€‚å®‡å®™èˆ¹ã®åˆ¶å¾¡ã®ãŸã‚ã®æ›¸ç±ã§ã™ãŒã€å›è»¢ã«ã¤ã„ã¦ã®è¨˜è¿°ãŒå……å®Ÿã—ã¦ã„ã¾ã™ã€‚
* [Visualizing quaternions (4d numbers) with stereographic projection](https://www.youtube.com/watch?v=d4EgbgTm0Bg)
  * å˜ä½å››å…ƒæ•°ã‚’ç«‹ä½“å°„å½±ã§å¯è¦–åŒ–ã™ã‚‹è©±
* [Quaternions and 3d rotation, explained interactively](https://www.youtube.com/watch?v=zjMuIxRvygQ)
  * å˜ä½å››å…ƒæ•°ã§3æ¬¡å…ƒå›è»¢ã™ã‚‹è©±









