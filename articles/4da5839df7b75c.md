---
title: "Juliaã§ã®ç­‰å·ã¨ä¸ç­‰å·ã„ã‚ã„ã‚"
emoji: "ğŸŸ°"
type: "tech"
topics:
  - "julia"
  - "math"
published: false
---

# TL;DR
- `isequal`ã¯`==`ã¨ã‚‚`===`ã¨ã‚‚é•ã†ã®ã§æ³¨æ„
- `isless`ã¯`<`ã¨ã‚‚`â‰¤`ã¨ã‚‚é•ã†ã®ã§æ³¨æ„
- ä¸€æ–¹ã§`isapprox`ã¯`â‰ˆ`ã¨åŒã˜ã§ã‚ã‚‹

# ç­‰å·è©•ä¾¡
Juliaã«ã¯ç­‰å·è©•ä¾¡ã®æ¼”ç®—ã¨ã—ã¦ä»¥ä¸‹ã®4ã¤ã®é–¢æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

* `==`
* `===`
* `isequal`
* `isapprox` (`â‰ˆ`)

ã“ã‚Œã‚‰ã®å·®ç•°ã¯ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```julia
julia> operators = [isapprox, ==, isequal, ===]
4-element Vector{Function}:
 isapprox (generic function with 9 methods)
 == (generic function with 178 methods)
 isequal (generic function with 26 methods)
 === (built-in function)

julia> pairs = [(Inf, Inf), (Inf, Inf32), (1,1.0), (+0.0,-0.0), (1,nextfloat(1.0)), (NaN, NaN), (NaN, -NaN), (Inf, -Inf)]
8-element Vector{Tuple{Real, AbstractFloat}}:
 (Inf, Inf)
 (Inf, Inf32)
 (1, 1.0)
 (0.0, -0.0)
 (1, 1.0000000000000002)
 (NaN, NaN)
 (NaN, NaN)
 (Inf, -Inf)

julia> [f(pair...) for f in operators, pair in pairs]
4Ã—8 Matrix{Bool}:
 1  1  1  1  1  0  0  0
 1  1  1  1  0  0  0  0
 1  1  1  0  0  1  1  0
 1  0  0  0  0  1  0  0
```

å¤§é›‘æŠŠã«è¨€ã£ã¦`isapprox`, `==`, `isequal`, `===`ã®é †ã§æ¯”è¼ƒãŒå³æ ¼ã«ãªã£ã¦ã„ãã¾ã™ãŒã€`NaN`ã«é–¢ã—ã¦ã¯ä¾‹å¤–ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚
éè‡ªæ˜ãªéƒ¨åˆ†ã«ã¤ã„ã¦ä»¥ä¸‹ã«ç®‡æ¡æ›¸ãã§èª¬æ˜ã—ã¾ã™ã€‚

* ã¾ãšã€`Inf`ã¨`Inf`ã®æ¯”è¼ƒã¯ã™ã¹ã¦ç­‰ã—ã„ã§ã™ã€‚
  * `1/0`ã‚ˆã‚Šã‚‚`2/0`ã®æ–¹ãŒå¤§ãã„ã€ãªã‚“ã¦ã“ã¨ã¯ãªãã™ã¹ã¦ç­‰ã—ããªã‚Šã¾ã™ã€‚
* ä¸€æ–¹ã§`NaN == NaN`ã¯`false`ã§ã™ã€‚
  * IEEE754ã®è¦æ ¼ã§ãã†æ±ºã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚[^1]
* ã—ã‹ã—`isequal(NaN, NaN)`ã¯`true`ã§ã™ã€‚
  * `isequal`ã¯ã€Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå®Ÿè³ªçš„ã«ç­‰ã—ã„ã‹ã€ã‚’èª¿ã¹ã‚‹ã‚‚ã®ã§ã€ã™ã¹ã¦ã®`NaN`ã¯ç­‰ã—ãã€`+0.0`ã¨`-0.0`ã¯ç•°ãªã‚Šã¾ã™ã€‚
* `NaN === NaN`ã‚‚ã¾ãŸ`true`ã§ã™ã€‚
  * `===`ã¯ã€Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦å³æ ¼ã«ç­‰ã—ã„ã‹ã€ã‚’èª¿ã¹ã‚‹ã‚‚ã®ã§ã€æ•°å­¦çš„æ€§è³ªã¨ã¯ç„¡é–¢ä¿‚ã§ã™ã€‚
* `-NaN`ã¯`NaN`ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€ã“ã‚Œã‚‰ã¯ç•°ãªã‚‹ã‚‚ã®ã§ã™ã€‚
  * ã“ã‚Œã¯`bitstring`ã§èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™

```julia
julia> bitstring(NaN)
"0111111111111000000000000000000000000000000000000000000000000000"

julia> bitstring(-NaN)
"1111111111111000000000000000000000000000000000000000000000000000"
```

[^1]: https://yosuke-furukawa.hatenablog.com/entry/2018/01/30/174425 ãªã©ãŒè©³ã—ã„ã§ã™ã€‚

# ä¸ç­‰å·è©•ä¾¡
Juliaã«ã¯ä¸ç­‰å·è©•ä¾¡ã®ã‚ˆã†ãªæ¼”ç®—ã¨ã—ã¦ä»¥ä¸‹ã®3ã¤ã®é–¢æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

* `<`
* `<=` (`â‰¤`)
* `isless`
